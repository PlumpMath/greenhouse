
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>greenhouse.emulation – Faking Out Third Parties &mdash; greenhouse v0.1 documentation</title>
    <link rel="stylesheet" href="../static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <link rel="top" title="greenhouse v0.1 documentation" href="../index.html" />
    <link rel="prev" title="greenhouse.compat – Greenlet and Compatibility Hacks" href="compat.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="compat.html" title="greenhouse.compat – Greenlet and Compatibility Hacks"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">greenhouse v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-greenhouse.emulation">
<span id="greenhouse-emulation-faking-out-third-parties"></span><h1><a class="reference internal" href="#module-greenhouse.emulation" title="greenhouse.emulation"><tt class="xref py py-mod docutils literal"><span class="pre">greenhouse.emulation</span></tt></a> &#8211; Faking Out Third Parties<a class="headerlink" href="#module-greenhouse.emulation" title="Permalink to this headline">¶</a></h1>
<p>Many of the APIs in greenhouse (particularly in the <a class="reference internal" href="utils.html#module-greenhouse.utils" title="greenhouse.utils"><tt class="xref py py-mod docutils literal"><span class="pre">greenhouse.utils</span></tt></a>
module) have been explicitly made to match the signatures and behavior of IO
and threading related APIs from the standard library. This module enables
monkeypatching the standard libary modules to swap in the greenhouse versions,
the idea being that you can cause a third-party library to use coroutines
without it having to have been explicitly written that way.</p>
<dl class="function">
<dt id="greenhouse.emulation.patch">
<tt class="descclassname">greenhouse.emulation.</tt><tt class="descname">patch</tt><big>(</big><em>*module_names</em><big>)</big><a class="headerlink" href="#greenhouse.emulation.patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies patching to the named standard library modules by importing and
replacing the relevant attributes on the modules whose names are the
strings in <tt class="docutils literal"><span class="pre">module_names</span></tt>. With no arguments, applies patching to
everything it can.</p>
<p>Valid arguments are <tt class="docutils literal"><span class="pre">&quot;__builtin__&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;socket&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;thread&quot;</span></tt>,
<tt class="docutils literal"><span class="pre">&quot;threading&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;Queue&quot;</span></tt>.</p>
<p>Raises a <tt class="docutils literal"><span class="pre">ValueError</span></tt> if anything else is provided.</p>
</dd></dl>

<dl class="function">
<dt id="greenhouse.emulation.unpatch">
<tt class="descclassname">greenhouse.emulation.</tt><tt class="descname">unpatch</tt><big>(</big><em>*module_names</em><big>)</big><a class="headerlink" href="#greenhouse.emulation.unpatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#greenhouse.emulation.patch" title="greenhouse.emulation.patch"><tt class="xref py py-func docutils literal"><span class="pre">patch()</span></tt></a>, but does the reverse operation returning standard
library modules to their original state.</p>
<p>Also raises <tt class="docutils literal"><span class="pre">ValueError</span></tt> for unrecognized arguments, and unpatches
everything with no arguments.</p>
</dd></dl>

<dl class="function">
<dt id="greenhouse.emulation.patched">
<tt class="descclassname">greenhouse.emulation.</tt><tt class="descname">patched</tt><big>(</big><em>module_name</em><big>)</big><a class="headerlink" href="#greenhouse.emulation.patched" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies patching to the standard library just to import the named module,
then puts everything else back as it was &#8211; this way the only module
affected will be the specifically named one.</p>
<p>Patches applied globally by <a class="reference internal" href="#greenhouse.emulation.patch" title="greenhouse.emulation.patch"><tt class="xref py py-func docutils literal"><span class="pre">patch()</span></tt></a> will not affect or be affected by
using this.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="compat.html"
                        title="previous chapter"><tt class="docutils literal docutils literal"><span class="pre">greenhouse.compat</span></tt> &#8211; Greenlet and Compatibility Hacks</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../sources/greenhouse/emulation.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="compat.html" title="greenhouse.compat – Greenlet and Compatibility Hacks"
             >previous</a> |</li>
        <li><a href="../index.html">greenhouse v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Travis J Parker.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.3.
    </div>
  </body>
</html>