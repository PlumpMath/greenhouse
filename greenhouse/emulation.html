

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>greenhouse.emulation – Faking Out Third Parties &mdash; greenhouse v0.1 documentation</title>
    <link rel="stylesheet" href="../static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <link rel="top" title="greenhouse v0.1 documentation" href="../index.html" />
    <link rel="prev" title="greenhouse.compat – Greenlet and Compatibility Hacks" href="compat.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="compat.html" title="greenhouse.compat – Greenlet and Compatibility Hacks"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">greenhouse v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="compat.html"
                        title="previous chapter"><tt class="docutils literal docutils literal"><span class="pre">greenhouse.compat</span></tt> &#8211; Greenlet and Compatibility Hacks</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../sources/greenhouse/emulation.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-greenhouse.emulation">
<span id="greenhouse-emulation-faking-out-third-parties"></span><h1><a class="reference internal" href="#module-greenhouse.emulation" title="greenhouse.emulation"><tt class="xref py py-mod docutils literal"><span class="pre">greenhouse.emulation</span></tt></a> &#8211; Faking Out Third Parties<a class="headerlink" href="#module-greenhouse.emulation" title="Permalink to this headline">¶</a></h1>
<p>Many of the APIs in greenhouse (particularly in the <a class="reference internal" href="utils.html#module-greenhouse.utils" title="greenhouse.utils"><tt class="xref py py-mod docutils literal"><span class="pre">greenhouse.utils</span></tt></a>
module) have been explicitly made to match the signatures and behavior of IO
and threading related APIs from the standard library. This module provides
enables monkeypatching the standard libary modules to swap in the greenhouse
versions, the idea being that you can cause a third-party library to use
coroutines without it having to have been explicitly written that way.</p>
<dl class="function">
<dt id="greenhouse.emulation.enable">
<tt class="descclassname">greenhouse.emulation.</tt><tt class="descname">enable</tt><big>(</big><em>builtins=1</em>, <em>socket=1</em>, <em>thread=1</em>, <em>threading=1</em>, <em>queue=1</em><big>)</big><a class="headerlink" href="#greenhouse.emulation.enable" title="Permalink to this definition">¶</a></dt>
<dd><p>Just a shortcut for enabling emulation in all the supported stdlib modules.
It defaults to enabling everything available, but they can be turned off
individually with the keyword arguments.</p>
</dd></dl>

<dl class="function">
<dt id="greenhouse.emulation.disable">
<tt class="descclassname">greenhouse.emulation.</tt><tt class="descname">disable</tt><big>(</big><em>builtins=1</em>, <em>socket=1</em>, <em>thread=1</em>, <em>threading=1</em>, <em>queue=1</em><big>)</big><a class="headerlink" href="#greenhouse.emulation.disable" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut for disabling emulation across the board. Defaults to affecting
everything, but individual modules can be left alone with the keyword
arguments.</p>
</dd></dl>

<dl class="function">
<dt id="greenhouse.emulation.builtins">
<tt class="descclassname">greenhouse.emulation.</tt><tt class="descname">builtins</tt><big>(</big><em>enable=True</em><big>)</big><a class="headerlink" href="#greenhouse.emulation.builtins" title="Permalink to this definition">¶</a></dt>
<dd><p>Override blocking APIs in the builtins with their greenhouse
coroutine-blocking equivalents (currently <tt class="docutils literal"><span class="pre">open</span></tt> and <tt class="docutils literal"><span class="pre">file</span></tt>).</p>
<p>With <tt class="docutils literal"><span class="pre">enable=False</span></tt>, sets things back to the originals.</p>
</dd></dl>

<dl class="function">
<dt id="greenhouse.emulation.socket">
<tt class="descclassname">greenhouse.emulation.</tt><tt class="descname">socket</tt><big>(</big><em>enable=True</em><big>)</big><a class="headerlink" href="#greenhouse.emulation.socket" title="Permalink to this definition">¶</a></dt>
<dd><p>Override blocking APIs in the standard library <tt class="docutils literal"><span class="pre">socket</span></tt> module. So far
this affects <tt class="docutils literal"><span class="pre">socket</span></tt>, <tt class="docutils literal"><span class="pre">socketpair</span></tt>, and <tt class="docutils literal"><span class="pre">fromfd</span></tt>.</p>
<p>With <tt class="docutils literal"><span class="pre">enable=False</span></tt>, restores the socket module to its original state.</p>
</dd></dl>

<dl class="function">
<dt id="greenhouse.emulation.thread">
<tt class="descclassname">greenhouse.emulation.</tt><tt class="descname">thread</tt><big>(</big><em>enable=True</em><big>)</big><a class="headerlink" href="#greenhouse.emulation.thread" title="Permalink to this definition">¶</a></dt>
<dd><p>Override thread and blocking APIs in the stdlib <tt class="docutils literal"><span class="pre">thread</span></tt> module. This
affects <tt class="docutils literal"><span class="pre">allocate</span></tt>/<tt class="docutils literal"><span class="pre">allocate_lock</span></tt> and
<tt class="docutils literal"><span class="pre">start_new</span></tt>/<tt class="docutils literal"><span class="pre">start_new_thread</span></tt>.</p>
<p>With <tt class="docutils literal"><span class="pre">enable=False</span></tt>, restores them to the originals.</p>
</dd></dl>

<dl class="function">
<dt id="greenhouse.emulation.threading">
<tt class="descclassname">greenhouse.emulation.</tt><tt class="descname">threading</tt><big>(</big><em>enable=True</em><big>)</big><a class="headerlink" href="#greenhouse.emulation.threading" title="Permalink to this definition">¶</a></dt>
<dd><p>Override thread and blocking APIs in the stdlib <tt class="docutils literal"><span class="pre">threading</span></tt> module. This
affects <tt class="docutils literal"><span class="pre">active_count</span></tt>/<tt class="docutils literal"><span class="pre">activeCount</span></tt>,
<tt class="docutils literal"><span class="pre">current_thread</span></tt>/<tt class="docutils literal"><span class="pre">currentThread</span></tt>, <tt class="docutils literal"><span class="pre">Event</span></tt>, <tt class="docutils literal"><span class="pre">Lock</span></tt>, <tt class="docutils literal"><span class="pre">RLock</span></tt>,
<tt class="docutils literal"><span class="pre">Condition</span></tt>, <tt class="docutils literal"><span class="pre">Semaphore</span></tt>, <tt class="docutils literal"><span class="pre">BoundedSemaphore</span></tt>, <tt class="docutils literal"><span class="pre">Timer</span></tt>, <tt class="docutils literal"><span class="pre">Thread</span></tt>,
<tt class="docutils literal"><span class="pre">local</span></tt>, and <tt class="docutils literal"><span class="pre">enumerate</span></tt>.</p>
<p>With <tt class="docutils literal"><span class="pre">enable=False</span></tt>, restores the originals.</p>
</dd></dl>

<dl class="function">
<dt id="greenhouse.emulation.queue">
<tt class="descclassname">greenhouse.emulation.</tt><tt class="descname">queue</tt><big>(</big><em>enable=True</em><big>)</big><a class="headerlink" href="#greenhouse.emulation.queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Override <tt class="docutils literal"><span class="pre">Queue.Queue</span></tt> with the greenhouse coroutine-blocking equivalent
<a class="reference internal" href="utils.html#greenhouse.utils.Queue" title="greenhouse.utils.Queue"><tt class="xref py py-class docutils literal"><span class="pre">greenhouse.utils.Queue</span></tt></a>.</p>
<p>With <tt class="docutils literal"><span class="pre">enable=False</span></tt>, reverts back to the original.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="compat.html" title="greenhouse.compat – Greenlet and Compatibility Hacks"
             >previous</a> |</li>
        <li><a href="../index.html">greenhouse v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Travis J Parker.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.3.
    </div>
  </body>
</html>